<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ipro.survey.persistence.dao.ActionDao">

    <sql id="columns">
      id,
      action_no as actionNo,
      name,
      desc,
      type,
      content
    </sql>

    <select id="selectByActionNo" resultType="com.ipro.survey.persistence.model.Action">
        SELECT
        <include refid="columns"/>
        FROM tb_action
        WHERE action_no = #{actionNo}
    </select>

    <select id="insertAction" parameterType="com.ipro.survey.persistence.model.ProjectTask">
        INSERT INTO tb_project_task
        (
        task_no,
        status,
        user_account,
        project_no,
        action_no,
        create_time
        )
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{taskNo},
            #{status},
            #{userAccount},
            #{projectNo},
            #{actionNo},
            #{createTime}
        </trim>
    </select>

</mapper>